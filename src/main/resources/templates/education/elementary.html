<!doctype html>

<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/common :: head('교육 실적')">
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link href="sticky-footer-navbar.css" rel="stylesheet">

    <title th:text="${title}"></title>
</head>
<body>
<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark" th:replace="fragments/common :: menu('education')">
    <a class="navbar-brand" href="#">JA Korea</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
                <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">회의실 예약</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">차량관리</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">교재재고 관리</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">선수금</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">교육실적 관리</a>
            </li>
        </ul>
    </div>
</nav>
<a name="top"></a>
</header>
<main role="main" class="container">
    <br><br><br>
    <ul class="nav nav-tabs">
        <li class="nav-item">
            <a class="nav-link " data-toggle="tab" href="#a1">유아</a>
        </li>
        <li class="nav-item">
            <a class="nav-link show active " th:href="@{/education/elementary}">초등</a>
        </li>
        <li class="nav-item">
            <a class="nav-link"  th:href="@{/education/middle}">중등</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" th:href="@{/education/high}">고등</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" th:href="@{/education/univ}">대학</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#a6">성인</a>
        </li>
    </ul>
    <div class="tab-content">
        <div class="tab-pane fade " id="a1">
        </div>
        <div class="tab-pane fade active">
        </div>
        <div class="tab-pane fade" >
        </div>
        <div class="tab-pane fade" >
        </div>
        <div class="tab-pane fade" >
        </div>
        <div class="tab-pane fade" id="a6">
        </div>
    </div>
    <div class="table-responsive">
        <br>
        <form class="form-inline d-flex justify-content-end" method="GET" th:action="@{/education/elementary}">
            <div class="form-group mx-sm-3 mb-2">
                <label for="searchtext" class="sr-only">검색</label>
                <input type="text" class="form-control" id="searchtext" name="searchtext"
                       th:value="${param.searchtext}">
            </div>
            <button type="submit" class="btn btn-primary">검색</button>
        </form>
        <table class="table table-condensed">
            <thead>
            <tr>
                <th scope="col">년도</th>
                <th scope="col">지역</th>
                <th scope="col">학교명</th>
                <th scope="col">사업명</th>
                <th scope="col">기관별 총 학급수</th>
                <th scope="col">기관별 총 학생수</th>
                <th scope="col">기관별 총 교육시간</th>
                <th scope="col">기관별 총 봉사자수</th>
                <th scope="col">진행학기</th>
                <th scope="col">안/밖</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="element : ${elements}">
                <td th:text="${element.year}">year</td>
                <td> <a th:text="${element.region}" th:href="@{/education/form(id=${element.id})}">지역</a></td>
                <td th:text="${element.orz}">학교명</td>
                <td th:text="${element.work}">사업명</td>
                <td th:text="${element.class_num}">학급수</td>
                <td th:text="${element.student}">학생수</td>
                <td th:text="${element.edu_hour}">교육시간</td>
                <td th:text="${element.volunteer}">봉사자수</td>
                <td th:text="${element.semester}">진행학기</td>
                <td th:text="${element.inout2}">안/밖</td>
            </tr>
            <script src="//code.jquery.com/jquery-1.10.2.js"></script>
            <script>
                    $(document).ready(function() {
                        $('table thead th').each(function(i) {
                            calculateColumn(i);
                        });
                    });

                    function calculateColumn(index) {
                        var total = 0;
                        $('table tr').each(function() {
                            var value = parseInt($('td', this).eq(index).text());

                            if (!isNaN(value)) {
                                total += value;
                            }
                        });
                        if(total == 0){
                            $('table tfoot td').eq(index).text(' ');
                        }
                        else{
                            $('table tfoot td').eq(index).text('합계: ' + total);
                        }
                    }
                </script>
            <tfoot>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            </tfoot>

            </tbody>
        </table>

    </div>
    <div class="container">
        <form class="form-inline" action="#" th:action="@{/education/elementary}" th:object="${element}" method="post">
            <input type="hidden" th:field="*{id}">
            <div class="form-group">
                <label class="sr-only" for="year">년도</label>
                <input type="text" class="form-control" id="year" th:field="*{year}" placeholder="2020" style="width:60px;">
            </div> &nbsp;
            <div class="form-group" >
                <label class="sr-only" for="region">지역</label>
                <input type="text" class="form-control" id="region" th:field="*{region}" placeholder="지역"style="width:60px;">
            </div> &nbsp;
            <div class="form-group">
                <label class="sr-only" for="orz">학교명</label>
                <input type="text" class="form-control" id="orz" th:field="*{orz}" placeholder="학교명"style="width:110px;">
            </div> &nbsp;
            <div class="form-group">
                <label class="sr-only" for="work">사업명</label>
                <input type="text" class="form-control" id="work" th:field="*{work}" placeholder="사업명"style="width:120px;">
            </div> &nbsp;
            <div class="form-group">
                <label class="sr-only" for="class_num">기관별 총 학급수</label>
                <input type="number" class="form-control" id="class_num" th:field="*{class_num}" placeholder="학급수"style="width:100px;">
            </div> &nbsp;
            <div class="form-group">
                <label class="sr-only" for="student">기관별 총 학생수</label>
                <input type="number" class="form-control" id="student" th:field="*{student}" placeholder="학생수"style="width:120px;">
            </div> &nbsp;
            <div class="form-group">
                <label class="sr-only" for="edu_hour">기관별 총 교육시간</label>
                <input type="number" class="form-control" id="edu_hour" th:field="*{edu_hour}" placeholder="교육시간"style="width:130px;">
            </div> &nbsp;
            <div class="form-group">
                <label class="sr-only" for="volunteer">기관별 총 봉사자수</label>
                <input type="number" class="form-control" id="volunteer" th:field="*{volunteer}" placeholder="봉사자수"style="width:130px;">
            </div> &nbsp;
            <div class="form-group">
                <label class="sr-only" for="semester">진행학기</label>
                <input type="number" class="form-control" id="semester" th:field="*{semester}" placeholder="진행학기"style="width:60px;">
            </div> &nbsp;
            <div class="form-group">
                <label class="sr-only" for="inout2">안/밖</label>
                <input type="text" class="form-control" id="inout2" th:field="*{inout2}" placeholder="안/밖"style="width:80px;">
            </div> &nbsp;
            <button type="submit" class="btn btn-primary" th:href="@{/education/elementary}">추가</button>
        </form>
    </div>
    <a id="homedown" style="display:scroll;position:fixed;bottom:32px;right:80px;" href="#top"><svg width="2em" height="2em" viewBox="0 0 16 16" class="bi bi-chevron-double-up" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" d="M7.646 2.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 3.707 2.354 9.354a.5.5 0 1 1-.708-.708l6-6z"/>
        <path fill-rule="evenodd" d="M7.646 6.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 7.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"/>
    </svg></a>
    <a id="homeup" style="display:scroll;position:fixed;bottom:32px;right:22px;" href="#bottom"><svg width="2em" height="2em" viewBox="0 0 16 16" class="bi bi-chevron-double-down" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" d="M1.646 6.646a.5.5 0 0 1 .708 0L8 12.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
        <path fill-rule="evenodd" d="M1.646 2.646a.5.5 0 0 1 .708 0L8 8.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
    </svg></a>

</main>
<a name="bottom"></a>

<!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

</body>
</html>